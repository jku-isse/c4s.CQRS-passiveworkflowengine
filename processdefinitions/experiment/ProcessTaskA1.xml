<xml xmlns="https://developers.google.com/blockly/xml">
  <variables>
    <variable id="WNAvoU`9:C=KWe.j%8;n">CRs</variable>
    <variable id="M3md.wX*tEQ*De4J||=^">TCs</variable>
    <variable id="mT+T=Lz)IT.wpd@9@${J">REQs</variable>
    <variable id="ujJj41c[+uOp30QV^RN9">Bugs</variable>
  </variables>
  <block type="procedures_defnoreturn" id="z/?WA}5)#.CUvTiD;E:x" x="188" y="88">
    <field name="NAME">ProcessTaskA1</field>
    <comment pinned="false" h="80" w="160">Describe this function...</comment>
    <statement name="STACK">
      <block type="variables_set" id=";Xw9uH0-^~f*2B3tF(`-">
        <field name="VAR" id="WNAvoU`9:C=KWe.j%8;n">CRs</field>
        <value name="VALUE">
          <block type="artifact" id="JTYSsYxqk+vBTi!RA=BJ">
            <field name="Type">azure_workitem</field>
          </block>
        </value>
        <next>
          <block type="artuse" id="QDP-uXdA`vKJ,ywO%Fv3">
            <field name="roletext">Param</field>
            <value name="NAME">
              <block type="variables_get" id="X^KK.om:SDZM@OBTj@bm">
                <field name="VAR" id="WNAvoU`9:C=KWe.j%8;n">CRs</field>
              </block>
            </value>
            <next>
              <block type="step" id=";GKoN_~dB/lmt7(Wyf9o">
                <field name="StepId">AssessingBugStates</field>
                <statement name="Input">
                  <block type="artuse" id=".)L{u(k_o[$|-5r?:@{)">
                    <field name="roletext">Param</field>
                    <value name="NAME">
                      <block type="variables_get" id="BfiaLE2f=lWE,/t1bq,!">
                        <field name="VAR" id="WNAvoU`9:C=KWe.j%8;n">CRs</field>
                      </block>
                    </value>
                  </block>
                </statement>
                <statement name="Transitions">
                  <block type="transition" id="~PW1];=|#[,edbUb_YP=">
                    <field name="State">PRECONDITION</field>
                    <value name="condition">
                      <block type="constraint" id="UaM:GHvt|BK6fWgya^R~">
                        <field name="arlRule">self.out_Bugs-&gt;exists(bug  |bug.affectsItems.size()&gt;0)</field>
                      </block>
                    </value>
                    <next>
                      <block type="transition" id="OeFM`tYDoTbJS!VHm,(W">
                        <field name="State">POSTCONDITION</field>
                        <value name="condition">
                          <block type="constraint" id="?Oaq4(s@6W0#_?-C`[wb">
                            <field name="arlRule">self.out_Bugs-&gt;exists(bug  | bug.state='Closed') or &#10;self.out_REQs-&gt;select(req | req.priority=1)&#10;-&gt;forAll(req2: &lt;root/types/azure/azure_workitem&gt; |req2.successorItems&#10;	-&gt;exists(it:&lt;root/types/azure/azure_workitem&gt; |it.workItemType='Issue' and it.state='Active'&#10;			and it.parentItems-&gt;intersection(self.in_CRs).size()&gt;0))</field>
                          </block>
                        </value>
                      </block>
                    </next>
                  </block>
                </statement>
                <statement name="Datamappings">
                  <block type="datamapping" id="nds%E;Kd7AXsYrR?]bG^">
                    <field name="mappingId">REQs</field>
                    <field name="mappingSpec">self.in_CRs-&gt;any()-&gt;asType(&lt;root/types/azure/azure_workitem&gt;).successorItems&#10;-&gt;select(item | item.workItemType='Requirement')</field>
                    <next>
                      <block type="datamapping" id="rqs:h;2M|xbS:5SeAf1}">
                        <field name="mappingId">TCs</field>
                        <field name="mappingSpec">self.in_CRs-&gt;any()-&gt;asType(&lt;root/types/azure/azure_workitem&gt;).successorItems&#10;-&gt;select(item | item.workItemType='Test Case')</field>
                        <next>
                          <block type="datamapping" id="Ay:ld=_{(Ax9zG;sc;iE">
                            <field name="mappingId">Bugs</field>
                            <field name="mappingSpec">self.in_CRs-&gt;any()-&gt;asType(&lt;root/types/azure/azure_workitem&gt;).successorItems&#10;-&gt;select(item | item.workItemType='Bug')</field>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </statement>
                <statement name="Output">
                  <block type="variables_set" id=",EfP@7L#Wy21I4XExfGs">
                    <field name="VAR" id="M3md.wX*tEQ*De4J||=^">TCs</field>
                    <value name="VALUE">
                      <block type="artifact" id="fDF}-Pd]WD*1V@n+{xVk">
                        <field name="Type">azure_workitem</field>
                      </block>
                    </value>
                    <next>
                      <block type="artuse" id="ly(}V1)Z@!mJg5Jh2b=-">
                        <field name="roletext">Param</field>
                        <value name="NAME">
                          <block type="variables_get" id="gajG9dezyQcxLZZ:JY}a">
                            <field name="VAR" id="M3md.wX*tEQ*De4J||=^">TCs</field>
                          </block>
                        </value>
                        <next>
                          <block type="variables_set" id="Y$+4_Cn4f[mC#|6qF2A-">
                            <field name="VAR" id="mT+T=Lz)IT.wpd@9@${J">REQs</field>
                            <value name="VALUE">
                              <block type="artifact" id="9oy4nlIp2X(bM7S=mf7/">
                                <field name="Type">azure_workitem</field>
                              </block>
                            </value>
                            <next>
                              <block type="artuse" id="K~(#B4KDl,BI^!{eLwa!">
                                <field name="roletext">Param</field>
                                <value name="NAME">
                                  <block type="variables_get" id="ww@CaEV(-H@jzb63t*Bt">
                                    <field name="VAR" id="mT+T=Lz)IT.wpd@9@${J">REQs</field>
                                  </block>
                                </value>
                                <next>
                                  <block type="variables_set" id="v/~jo`Z@/QLN9+sVnU0M">
                                    <field name="VAR" id="ujJj41c[+uOp30QV^RN9">Bugs</field>
                                    <value name="VALUE">
                                      <block type="artifact" id="IR(*/LP5.^)kXe8R|^?m">
                                        <field name="Type">azure_workitem</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="artuse" id="2{~]+=N|b0C%$mCgo3h.">
                                        <field name="roletext">Param</field>
                                        <value name="NAME">
                                          <block type="variables_get" id="T-sx8L_kzaYmv|PJw[T,">
                                            <field name="VAR" id="ujJj41c[+uOp30QV^RN9">Bugs</field>
                                          </block>
                                        </value>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </statement>
                <statement name="QA">
                  <block type="qacheck" id="L}^*UEpl;#R@HC{iu,$I">
                    <field name="qacheckId">Priority1ReqBugsState</field>
                    <field name="description">Ensure either all bugs for priortiy 1 requirements are either 'Closed' or the requirement can be traced from an active issue of the change request.</field>
                    <value name="constraint">
                      <block type="constraint" id="#)RJt^YCegSzrki_!p1t">
                        <field name="arlRule">self.out_Bugs&#10;-&gt;select(bug | bug.affectsItems&#10;  -&gt;exists(item : &#10;           &lt;root/types/azure/azure_workitem&gt;  | &#10;             item.workItemType='Requirement' and &#10;             item.priority=1))&#10;-&gt;forAll(bug2 : &#10;           &lt;root/types/azure/azure_workitem&gt;  | &#10;            bug2.state='Closed' &#10;     or  &#10;     bug2.affectsItems&#10;  -&gt;select(item2 | &#10;                item2.workItemType='Requirement' &#10;                and &#10;                item2.priority=1)&#10;  -&gt;forAll(req : &#10;           &lt;root/types/azure/azure_workitem&gt;  | &#10;              req.successorItems&#10;             -&gt;exists(item3 | item3.workItemType = &#10;                                        'Issue' and item3.state='Active' &#10;               and item3.parentItems                       &#10;               -&gt;intersection(self.in_CRs).size() &gt; 0&#10;      )&#10;  )&#10;)</field>
                      </block>
                    </value>
                  </block>
                </statement>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
</xml>